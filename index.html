<!DOCTYPE html>
<html lang="pt-BR" prefix="og: https://ogp.me/ns#">

<head>
    <!-- ============================================
         HEAD 2030 - ADVANCED OPTIMIZATION SYSTEM
         ============================================ -->

    <!-- Character Encoding & Viewport -->
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Primary Meta Tags - SEO Core -->
    <title>NEØ.FLOWOFF | Estratégia, automação, Web3 e tokenização como sistema operacional de negócio.</title>
    <meta name="title"
        content="NEØ.FLOWOFF | Estratégia, automação, Web3 e tokenização como sistema operacional de negócio.">
    <meta name="description"
        content="Marketing como infraestrutura. Sites que convertem, automação que escala e sistemas que não quebram. Para empresas que investem em tráfego pago.">
    <meta name="keywords"
        content="marketing digital, automação, web3, tokenização, landing page, conversão, tráfego pago, IA, CRM, sistemas web, FlowOFF, NEØ">
    <meta name="author" content="NEØ.FLOWOFF - FlowOFF Agency">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="Portuguese">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://flowoff.xyz/">

    <!-- Open Graph / Facebook - Complete Set -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://flowoff.xyz/">
    <meta property="og:title"
        content="NEØ.FLOWOFF - Estratégia, automação, Web3 e tokenização como sistema operacional de negócio.">
    <meta property="og:description"
        content="Sites que convertem tráfego, automação de vendas com IA e sistemas completos. Pra você não perder lead e escalar sem contratar equipe.">
    <meta property="og:image" content="https://flowoff.xyz/public/images/capa_neo_flowoff_webapp.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="NEØ.FLOWOFF - Ecossistema Digital Web3">
    <meta property="og:image:type" content="image/png">
    <meta property="og:site_name" content="NEØ.FLOWOFF">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:locale:alternate" content="en_US">

    <!-- Twitter Card - Complete Set -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://flowoff.xyz/">
    <meta name="twitter:title" content="NEØ.FLOWOFF - Estratégia, automação, Web3 e tokenização">
    <meta name="twitter:description"
        content="Marketing como infraestrutura. Sites que convertem, automação que escala e sistemas que não quebram.">
    <meta name="twitter:image" content="https://flowoff.xyz/public/images/capa_neo_flowoff_webapp.png">
    <meta name="twitter:image:alt" content="NEØ.FLOWOFF - Ecossistema Digital Web3">
    <meta name="twitter:creator" content="@neoflowoff">
    <meta name="twitter:site" content="@neoflowoff">

    <!-- Web3 & Blockchain Meta Tags -->
    <meta name="theme-color" content="#050508">
    <meta name="msapplication-TileColor" content="#050508">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="version" content="1.0.0">
    <meta name="app-version" content="1.0.0">

    <!-- PWA & Mobile App -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="NEØ.FLOWOFF">
    <meta name="application-name" content="NEØ.FLOWOFF">
    <meta name="format-detection" content="telephone=yes">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https:;">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <!-- Performance Hints - Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="dns-prefetch" href="https://wa.me">

    <!-- Preload Critical Resources -->
    <link rel="preload" href="landing_v2.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" as="style">
    <link rel="preload" href="public/neoflowoff_logo.png" as="image" type="image/png">

    <!-- Favicon & Icons - Complete Set -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff2fb3">

    <!-- Stylesheets - Optimized Loading -->
    <link rel="stylesheet" href="landing_v2.css" media="all">

    <!-- Fonts - Optimized Loading with font-display -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap"
        media="print" onload="this.media='all'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap">
    </noscript>

    <!-- Critical CSS Inline -->
    <style>
        /* Critical Above-the-Fold Styles */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #050508;
            color: #f0f0f5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Prevent FOUC */
        header {
            opacity: 0;
            animation: fadeIn 0.3s ease-in-out forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>

    <!-- Scripts - Deferred & Async -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Structured Data - JSON-LD for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "NEØ.FLOWOFF",
        "alternateName": "FlowOFF Agency",
        "url": "https://flowoff.xyz",
        "logo": "https://flowoff.xyz/public/neoflowoff_logo.png",
        "description": "Marketing como infraestrutura. Sites que convertem, automação que escala e sistemas que não quebram.",
        "sameAs": [
            "https://www.instagram.com/neoflowoff.eth"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+55-62-98323-1110",
            "contactType": "customer service",
            "availableLanguage": ["Portuguese", "English"]
        },
        "areaServed": "BR",
        "knowsAbout": ["Marketing Digital", "Automação", "Web3", "Tokenização", "IA", "CRM"]
    }
    </script>

    <!-- Analytics Ready - Placeholder for GTM/GA4 -->
    <!-- Google Tag Manager -->
    <!-- <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-XXXXXXX');</script> -->
    <!-- End Google Tag Manager -->
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-XXXXXXX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
    <!-- End Google Tag Manager (noscript) -->

    <div class="bg-glow"></div>

    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <img src="public/neoflowoff_logo.png" alt="NEØ.FLOWOFF" class="logo-img">
                </div>
                <a href="https://wa.me/+5562983231110" target="_blank" class="btn btn-header">Conheça LLMFlw</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>NEØ.FLW <br><span class="neon-text">Estratégia com sistemas e infraestrutura.</span></h1>
                    <p><strong id="animated-text">Websites, inteligência artificial, webapps e integrações com
                            infraestrutura</strong><br><br>Projetamos ecossistemas digitais preparados para crescer.</p>
                    <div class="hero-btns">
                        <a href="https://wa.me/+5562983231110" target="_blank" class="btn btn-primary">Falar com a
                            FLOW</a>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <img src="public/images/capa_neo_flowoff_webapp.png" alt="Ecossistema FlowOFF">
            </div>
        </section>

        <section class="services roadmap-section" id="services">
            <div class="container">
                <div class="roadmap-container">
                    <div class="roadmap-line"></div>
                    <div class="roadmap-steps">
                        <div class="roadmap-step" data-step="1">
                            <a class="roadmap-link"
                                href="https://wa.me/5562983231110?text=Ol%C3%A1%21%20Tenho%20interesse%20no%20PACK%20%2F%2F%20SISTEMAS%3A%20Pense%20em%20Sistema.%20N%C3%A3o%20em%20Site.%20Zero%20post.%20100%25%20tra%C3%A7%C3%A3o."
                                target="_blank" rel="noopener noreferrer">
                                <div class="roadmap-node"></div>
                                <div class="roadmap-box">
                                    <div class="roadmap-stripe"></div>
                                    <h2 style="text-align: center;"> PACK // SISTEMAS</h2>
                                </div>
                                <p class="roadmap-desc"><strong>Pense em Sistema. Não em Site.</strong> <br>Zero post.
                                    100% tração.</p>
                            </a>
                        </div>
                        <div class="roadmap-step" data-step="2">
                            <a class="roadmap-link"
                                href="https://wa.me/5562983231110?text=Ol%C3%A1%21%20Tenho%20interesse%20no%20PACK%20%2F%2F%20TR%C3%81FEGO%3A%20Landing%20%2B%20WhatsApp%20OS%20%2B%20Tracking.%20Para%20rodar%20tr%C3%A1fego%20r%C3%A1pido."
                                target="_blank" rel="noopener noreferrer">
                                <div class="roadmap-node"></div>
                                <div class="roadmap-box">
                                    <div class="roadmap-stripe"></div>
                                    <h2 style="text-align: center;"> PACK // TRÁFEGO</h2>
                                </div>
                                <p class="roadmap-desc"><strong>Landing + WhatsApp OS + Tracking.</strong> <br>Para
                                    rodar tráfego rápido.</p>
                            </a>
                        </div>
                        <div class="roadmap-step" data-step="3">
                            <a class="roadmap-link"
                                href="https://wa.me/5562983231110?text=Ol%C3%A1%21%20Tenho%20interesse%20no%20PACK%20%2F%2F%20AUTOMA%C3%87%C3%83O%3A%20IA%20qualifica%20leads%20%2B%20base%20de%20dados%20%2B%20follow-up.%20Escale%20vendas%20sem%20contratar%20equipe%20grande."
                                target="_blank" rel="noopener noreferrer">
                                <div class="roadmap-node"></div>
                                <div class="roadmap-box">
                                    <div class="roadmap-stripe"></div>
                                    <h2 style="text-align: center;"> PACK // AUTOMAÇÃO</h2>
                                </div>
                                <p class="roadmap-desc"><strong>IA qualifica leads + base de dados + follow-up.</strong>
                                    <br>Escale vendas sem contratar equipe grande.
                                </p>
                            </a>
                        </div>
                        <div class="roadmap-step" data-step="4">
                            <a class="roadmap-link"
                                href="https://wa.me/5562983231110?text=Ol%C3%A1%21%20Tenho%20interesse%20no%20PACK%20%2F%2F%20WEB3%3A%20WebApps%2C%20gateways%20%2B%20integra%C3%A7%C3%B5es.%20Ideal%20para%20opera%C3%A7%C3%A3o%20interna."
                                target="_blank" rel="noopener noreferrer">
                                <div class="roadmap-node"></div>
                                <div class="roadmap-box">
                                    <div class="roadmap-stripe"></div>
                                    <h2 style="text-align: center;"> PACK // WEB3</h2>
                                </div>
                                <p class="roadmap-desc"><strong>WebApps, gateways + integrações.</strong> <br>Ideal para
                                    operação interna.</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="pricing" id="pricing">
            <div class="container">
                <div class="pricing-header">
                    <h2>Pacotes Prontos</h2>
                    <p class="pricing-subtitle">Sites prontos para <strong>rodar tráfego pago</strong>. Processo
                        completo, <strong>valores transparentes</strong>, <strong>entrega rápida</strong>.</p>
                </div>
                <div class="grid-pricing">
                    <div class="pricing-card">
                        <h3>Start</h3>
                        <p class="pricing-value neon-text">R$ 1.500</p>
                        <p class="pricing-desc">Site simples / <strong>Landing Page rápida</strong></p>
                        <p class="pricing-time">Prazo: <strong>7-20 dias úteis</strong></p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button onclick="openFlowPay('Start', 1500)"
                                class="btn btn-primary btn-flowpay-trigger">Pagar via PIX</button>
                            <a href="https://wa.me/+5562983231110?text=Oi!%20Quero%20saber%20mais%20sobre%20o%20pacote%20Start"
                                target="_blank" class="btn btn-outline" style="width: 100%;">Falar com a Flow</a>
                        </div>
                    </div>
                    <div class="pricing-card pricing-featured">
                        <h3>Profissional</h3>
                        <p class="pricing-value neon-text">R$ 2.500</p>
                        <p class="pricing-desc">Site intermediário com <strong>mais recursos</strong></p>
                        <p class="pricing-time">Prazo: <strong>7-20 dias úteis</strong></p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button onclick="openFlowPay('Profissional', 2500)"
                                class="btn btn-primary btn-flowpay-trigger"
                                style="background: var(--neon-green); color: #000; border-color: var(--neon-green); box-shadow: var(--glow-green);">Pagar
                                via PIX</button>
                            <a href="https://wa.me/+5562983231110?text=Oi!%20Quero%20saber%20mais%20sobre%20o%20pacote%20Profissional"
                                target="_blank" class="btn btn-outline"
                                style="width: 100%; border-color: rgba(255,255,255,0.3);">Falar com a Flow</a>
                        </div>
                    </div>
                    <div class="pricing-card">
                        <h3>Premium</h3>
                        <p class="pricing-value neon-text">R$ 4.000</p>
                        <p class="pricing-desc">Site <strong>completo e robusto</strong></p>
                        <p class="pricing-time">Prazo: <strong>7-20 dias úteis</strong></p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button onclick="openFlowPay('Premium', 4000)"
                                class="btn btn-primary btn-flowpay-trigger">Pagar via PIX</button>
                            <a href="https://wa.me/+5562983231110?text=Oi!%20Quero%20saber%20mais%20sobre%20o%20pacote%20Premium"
                                target="_blank" class="btn btn-outline" style="width: 100%;">Falar com a Flow</a>
                        </div>
                    </div>
                </div>
                <div class="pricing-footer">
                    <a href="https://www.canva.com/design/DAG4sWWGiv8/1nwHM_YaS4YSzlXP-OlS9Q/view?utm_content=DAG4sWWGiv8&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=he9bddfa69c"
                        target="_blank" class="btn btn-outline btn-link">Ver Proposta Completa (Processo + FAQ)</a>
                </div>
            </div>
        </section>

        <section class="cta">
            <div class="container">
                <div class="cta-box">
                    <h2>Pronto para começar?</h2>
                    <p>Pra te direcionar sem enrolação: você quer aparecer no Google e passar credibilidade, ou
                        converter tráfego em leads?</p>
                    <a href="https://wa.me/+5562983231110" target="_blank" class="btn btn-cta">Falar com a Flow</a>
                </div>
            </div>
        </section>

        <section class="about-creator">
            <div class="container">
                <div class="creator-card">
                    <div class="creator-image-wrapper">
                        <img src="https://res.cloudinary.com/dgyocpguk/image/upload/v1769091401/flowoff/public/mello.webp"
                            alt="MELLØ" class="creator-image">
                        <div class="creator-glow"></div>
                    </div>
                    <div class="creator-info">
                        <h2 class="creator-name">MELLØ<sup>™</sup></h2>
                        <p class="creator-title">Node IPFS na WEB3 | DEV | Gestor de Dados</p>
                        <p class="creator-bio">Expert em Marketing Digital e Blockchain. Constrói sistemas que conectam
                            estratégia, tecnologia e resultado. Do branding ao backend, da ideia ao token.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer
        style="padding: 60px 0; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; color: #9aa0aa; font-size: 0.9rem;">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-left">
                    <p class="footer-copy">© 2026 FlowOFF Agency - <a href="https://zora.co/@neoprotocol"
                            target="_blank" rel="noopener noreferrer">Architecture NΞØ Protocol</a></p>
                    <p class="footer-cnpj">Flowoff Marketing e Assessoria Digital LTDA - 43.376.355/0001-92</p>
                    <p class="footer-links">
                        <a href="/privacy">POLÍTICA DE PRIVACIDADE</a> · <a href="/legal">TERMOS DE SERVIÇO</a>
                    </p>
                </div>
                <div class="footer-right">
                    <a class="footer-flowpay-link" href="https://flowpay-production-10d8.up.railway.app/"
                        target="_blank" rel="noopener noreferrer" aria-label="FLOWPay Gateway Web3">
                        <img class="footer-flowpay-logo" src="public/flowpay-horizontal-logo.png"
                            alt="FLOWPay Gateway Web3">
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- FlowPay Payment Modal -->
    <div id="flowpay-modal" class="flowpay-modal">
        <div class="flowpay-card">
            <button class="flowpay-close" onclick="closeFlowPay()"><i data-lucide="x"></i></button>
            <div class="flowpay-header">
                <img src="public/neoflowoff_logo.png" alt="NEØ.FLOWOFF" class="flowpay-logo-img">
                <h3 id="flowpay-product-name">Pacote Start</h3>
                <p id="flowpay-product-price">R$ 1.500,00</p>
            </div>

            <div id="flowpay-step-1" class="flowpay-form">
                <div class="flowpay-input-group">
                    <label for="flowpay-cpf">CPF / CNPJ</label>
                    <input type="text" id="flowpay-cpf" class="flowpay-input" placeholder="000.000.000-00">
                </div>
                <div class="flowpay-input-group">
                    <label for="flowpay-email">E-mail para recepção</label>
                    <input type="email" id="flowpay-email" class="flowpay-input" placeholder="seu@email.com">
                </div>
                <button onclick="generatePix()" class="btn btn-primary btn-flowpay" id="btn-generate-pix">
                    <span>Gerar PIX</span>
                </button>
                <div id="flowpay-error" class="flowpay-error">Erro ao gerar PIX. Tente novamente.</div>
            </div>

            <div id="flowpay-step-2" class="flowpay-pix-container">
                <div class="flowpay-qr-code">
                    <img id="flowpay-qr-img" src="" alt="QR Code PIX">
                </div>
                <div class="flowpay-pix-copy">
                    <p style="font-size: 0.8rem; margin-bottom: 8px;">Copia e Cola:</p>
                    <div class="pix-copy-box" onclick="copyPixCode()" id="flowpay-copy-code">
                        Clique para copiar o código...
                    </div>
                </div>
                <div class="flowpay-status">
                    <div class="status-dot"></div>
                    <span>Aguardando pagamento...</span>
                </div>
            </div>

            <div id="flowpay-step-3" class="flowpay-success">
                <div class="success-icon">
                    <i data-lucide="check"></i>
                </div>
                <h3>Pagamento Confirmado!</h3>
                <p>Obrigado! Em instantes nossa equipe entrará em contato via WhatsApp/Email para iniciar seu projeto.
                </p>
                <button onclick="closeFlowPay()" class="btn btn-primary" style="margin-top: 20px;">Fechar</button>
            </div>

            <div class="flowpay-footer">
                <span style="font-size: 0.7rem; color: #9aa0aa;">Pagamento processado por</span>
                <img src="public/flowpay-horizontal-logo.png" alt="FlowPay" style="height: 18px; opacity: 0.6; margin-left: 6px; vertical-align: middle;">
            </div>
        </div>
    </div>

    <script>
        let currentProduct = { name: '', price: 0 };
        let chargeId = null;
        let statusInterval = null;
        const FLOWPAY_API = 'https://flowpay-production-10d8.up.railway.app';

        function openFlowPay(name, price) {
            currentProduct = { name, price };
            document.getElementById('flowpay-product-name').innerText = `Pacote ${name}`;
            document.getElementById('flowpay-product-price').innerText = `R$ ${price.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`;

            document.getElementById('flowpay-step-1').style.display = 'flex';
            document.getElementById('flowpay-step-2').style.display = 'none';
            document.getElementById('flowpay-step-3').style.display = 'none';
            document.getElementById('flowpay-error').style.display = 'none';

            document.getElementById('flowpay-modal').classList.add('active');
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            }
        }

        function closeFlowPay() {
            document.getElementById('flowpay-modal').classList.remove('active');
            if (statusInterval) clearInterval(statusInterval);
        }

        async function generatePix() {
            const cpf = document.getElementById('flowpay-cpf').value.replace(/\D/g, '');
            const email = document.getElementById('flowpay-email').value;
            const btn = document.getElementById('btn-generate-pix');
            const errorEl = document.getElementById('flowpay-error');

            if (!cpf || cpf.length < 11) {
                alert('Por favor, insira um CPF/CNPJ válido.');
                return;
            }

            btn.disabled = true;
            btn.innerHTML = '<span>Gerando...</span>';
            errorEl.style.display = 'none';

            try {
                const response = await fetch(`${FLOWPAY_API}/api/create-charge-landing`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        amount_brl: currentProduct.price,
                        product_ref: `landing-${currentProduct.name.toLowerCase()}`,
                        customer_cpf: cpf,
                        customer_email: email
                    })
                });

                // Verifica se a resposta é OK
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`Erro ${response.status}: ${response.statusText}. ${errorText.substring(0, 100)}`);
                }

                // Verifica se o conteúdo é JSON
                const contentType = response.headers.get('content-type');
                if (!contentType || !contentType.includes('application/json')) {
                    const text = await response.text();
                    throw new Error(`Resposta inválida da API. Esperado JSON, recebido: ${contentType || 'text/html'}`);
                }

                const data = await response.json();

                if (data.success) {
                    chargeId = data.charge.charge_id;
                    document.getElementById('flowpay-qr-img').src = data.charge.qr_code;
                    document.getElementById('flowpay-copy-code').innerText = data.charge.pix_copy_paste;

                    document.getElementById('flowpay-step-1').style.display = 'none';
                    document.getElementById('flowpay-step-2').style.display = 'flex';

                    startStatusCheck();
                } else {
                    throw new Error(data.message || 'Erro desconhecido');
                }
            } catch (error) {
                console.error('FlowPay Error:', error);
                let errorMessage = 'Erro ao gerar PIX. Tente novamente.';
                
                if (error.message) {
                    if (error.message.includes('JSON')) {
                        errorMessage = 'Erro de comunicação com a API. Verifique se o serviço está disponível.';
                    } else if (error.message.includes('404')) {
                        errorMessage = 'Endpoint da API não encontrado. Verifique a configuração.';
                    } else if (error.message.includes('500')) {
                        errorMessage = 'Erro interno do servidor. Tente novamente em alguns instantes.';
                    } else {
                        errorMessage = error.message;
                    }
                }
                
                errorEl.innerText = errorMessage;
                errorEl.style.display = 'block';
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<span>Gerar PIX</span>';
            }
        }

        function copyPixCode() {
            const code = document.getElementById('flowpay-copy-code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                const originalText = document.getElementById('flowpay-copy-code').innerText;
                document.getElementById('flowpay-copy-code').innerText = 'Copiado!';
                setTimeout(() => {
                    document.getElementById('flowpay-copy-code').innerText = code;
                }, 2000);
            });
        }

        function startStatusCheck() {
            if (statusInterval) clearInterval(statusInterval);
            statusInterval = setInterval(async () => {
                try {
                    const response = await fetch(`${FLOWPAY_API}/api/charge/${chargeId}`);
                    
                    // Verifica se a resposta é OK
                    if (!response.ok) {
                        console.warn(`Status check: ${response.status} ${response.statusText}`);
                        return; // Continua tentando
                    }

                    // Verifica se o conteúdo é JSON
                    const contentType = response.headers.get('content-type');
                    if (!contentType || !contentType.includes('application/json')) {
                        console.warn('Status check: resposta não é JSON, ignorando');
                        return; // Continua tentando
                    }

                    const data = await response.json();

                    const paidStatuses = ['PIX_PAID', 'PENDING_REVIEW', 'APPROVED', 'SETTLED', 'COMPLETED'];
                    if (data.success && paidStatuses.includes(data.status)) {
                        clearInterval(statusInterval);
                        showSuccess();
                    }
                } catch (e) {
                    // Erros de rede ou parsing são silenciosos para não interromper o polling
                    console.error('Status check error:', e);
                }
            }, 5000);
        }

        function showSuccess() {
            document.getElementById('flowpay-step-2').style.display = 'none';
            document.getElementById('flowpay-step-3').style.display = 'flex';
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            }
        }
    </script>
    <script>
        // Aguarda carregamento do Lucide antes de inicializar ícones
        function initLucideIcons() {
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            } else {
                // Tenta novamente após um pequeno delay se ainda não estiver carregado
                setTimeout(initLucideIcons, 100);
            }
        }
        
        // Inicializa quando DOM estiver pronto
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLucideIcons);
        } else {
            initLucideIcons();
        }
    </script>
    <script>
        // Header sempre visível - apenas muda estilo visual ao scrollar
        let ticking = false;
        const header = document.querySelector('header');

        // Garantir que header sempre fique visível
        function ensureHeaderVisible() {
            if (header) {
                header.style.position = 'fixed';
                header.style.top = '0';
                header.style.transform = 'translateY(0)';
                header.style.visibility = 'visible';
                header.style.opacity = '1';
                header.style.display = 'flex';
                header.style.zIndex = '9999';
            }
        }

        function updateHeader() {
            const scrollY = window.scrollY;

            // Garantir visibilidade sempre
            ensureHeaderVisible();

            // Adiciona classe quando scrolla (muda apenas estilo visual)
            if (scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }

            ticking = false;
        }

        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(updateHeader);
                ticking = true;
            }
        }, { passive: true });

        // Inicializa e garante visibilidade
        ensureHeaderVisible();
        updateHeader();

        // Monitora mudanças no DOM para garantir visibilidade
        setInterval(ensureHeaderVisible, 100);

        // Animação de rolagem das letras
        function animateText() {
            const textElement = document.getElementById('animated-text');
            if (!textElement) return;

            const text = textElement.textContent;
            const words = text.split(' ');

            textElement.innerHTML = words.map((word, index) => {
                const delay = index * 0.08;
                return `<span style="animation-delay: ${delay}s">${word}</span>`;
            }).join(' ');
        }

        // Executa quando a página carregar
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', animateText);
        } else {
            animateText();
        }

        // Roadmap fade out on scroll (mobile) - Improved fluidity
        function initRoadmapScroll() {
            const roadmapSteps = document.querySelectorAll('.roadmap-step');
            const roadmapSection = document.querySelector('.roadmap-section');
            const pricingSection = document.getElementById('pricing');

            if (!roadmapSteps.length || !roadmapSection || !pricingSection) return;

            const isMobile = window.innerWidth <= 768;
            if (!isMobile) {
                // Reset styles on desktop
                roadmapSteps.forEach(step => {
                    step.style.opacity = '';
                    step.style.transform = '';
                });
                return;
            }

            let lastScrollY = window.scrollY;
            let ticking = false;
            let hasScrolledToPricing = false;

            function updateRoadmapFade() {
                const scrollY = window.scrollY;
                const roadmapTop = roadmapSection.offsetTop;
                const roadmapHeight = roadmapSection.offsetHeight;
                const viewportHeight = window.innerHeight;

                // Calculate when roadmap enters viewport
                const roadmapStart = roadmapTop - viewportHeight;
                const roadmapEnd = roadmapTop + roadmapHeight;
                const scrollPosition = scrollY + viewportHeight * 0.5; // Use middle of viewport

                // Only animate if roadmap is in viewport
                if (scrollPosition < roadmapStart || scrollPosition > roadmapEnd + viewportHeight) {
                    ticking = false;
                    return;
                }

                roadmapSteps.forEach((step, index) => {
                    // Calculate individual step position
                    const stepTop = roadmapTop + (index * (roadmapHeight / roadmapSteps.length));
                    const stepCenter = stepTop + (roadmapHeight / roadmapSteps.length / 2);

                    // Distance from viewport center to step center
                    const distance = scrollPosition - stepCenter;
                    const fadeDistance = viewportHeight * 0.6; // Fade over 60% of viewport

                    // Smooth fade calculation
                    let opacity = 1;
                    let translateY = 0;

                    if (distance > 0) {
                        // Step is below viewport center - fade out
                        const fadeProgress = Math.min(1, distance / fadeDistance);
                        opacity = Math.max(0, 1 - fadeProgress);
                        translateY = fadeProgress * 40; // Move down as it fades
                    } else {
                        // Step is above or at viewport center - fade in
                        const fadeProgress = Math.min(1, Math.abs(distance) / fadeDistance);
                        opacity = Math.max(0.3, 1 - fadeProgress * 0.7);
                        translateY = -fadeProgress * 20; // Slight move up when entering
                    }

                    // Apply smooth transitions
                    step.style.opacity = opacity;
                    step.style.transform = `translateY(${translateY}px)`;
                    step.style.pointerEvents = opacity > 0.1 ? 'auto' : 'none';
                });

                // Auto-scroll to pricing when all steps are faded
                const allFaded = Array.from(roadmapSteps).every(step => {
                    return parseFloat(step.style.opacity) < 0.1;
                });

                if (allFaded && scrollY > lastScrollY && !hasScrolledToPricing && scrollY > roadmapEnd - viewportHeight * 0.3) {
                    hasScrolledToPricing = true;
                    setTimeout(() => {
                        pricingSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 300);
                }

                lastScrollY = scrollY;
                ticking = false;
            }

            // Use Intersection Observer for better performance
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: [0, 0.1, 0.3, 0.5, 0.7, 1]
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!ticking) {
                            window.requestAnimationFrame(updateRoadmapFade);
                            ticking = true;
                        }
                    }
                });
            }, observerOptions);

            observer.observe(roadmapSection);

            // Also listen to scroll for continuous updates
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(updateRoadmapFade);
                    ticking = true;
                }
            }, { passive: true });

            // Initial check
            updateRoadmapFade();
        }

        // Initialize roadmap scroll on load and resize
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initRoadmapScroll);
        } else {
            initRoadmapScroll();
        }

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                const roadmapSteps = document.querySelectorAll('.roadmap-step');
                roadmapSteps.forEach(step => {
                    step.style.opacity = '';
                    step.style.transform = '';
                    step.style.pointerEvents = '';
                });
                initRoadmapScroll();
            }, 250);
        });
    </script>
</body>

</html>